<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
    />
    <meta
      name="description"
      content="Ensure customers and deliveries find you with accurate map data across platforms."
    />
    <title>GeoFidelity</title>
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.2/dist/gsap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.2/dist/ScrollTrigger.min.js"></script>
    <style>
      :root {
        --nav-height: 0px;
        --safe-top: env(safe-area-inset-top);
        --safe-bottom: env(safe-area-inset-bottom);
      }
      html {
        scroll-behavior: smooth;
      }
      a:focus-visible,
      button:focus-visible {
        outline: 2px solid #4f46e5;
        outline-offset: 2px;
      }
      body.menu-open main,
      body.menu-open footer {
        filter: blur(4px);
      }
      html.menu-open,
      body.menu-open {
        height: 100dvh;
        overflow: hidden;
      }
      main,
      footer {
        transition: filter 0.3s ease;
      }
      #hero-slider {
        position: relative;
        overflow: visible;
        cursor: ew-resize;
        touch-action: pan-y;
      }
      #hero-slider img {
        display: block;
        width: 100%;
        height: auto;
        user-select: none;
        pointer-events: none;
      }
      #hero-after-wrapper {
        position: absolute;
        inset: 0;
        clip-path: polygon(50% 0, 100% 0, 100% 100%, 50% 100%);
      }
      #hero-divider {
        position: absolute;
        top: -1rem;
        bottom: -1rem;
        width: 4px;
        background: #4f46e5;
        left: 50%;
        transform: translateX(-50%);
        pointer-events: none;
      }
      .outline-text {
        color: transparent;
        -webkit-text-fill-color: transparent;
        -webkit-text-stroke: 1px #4f46e5;
        text-stroke: 1px #4f46e5;
      }
      #contact {
        min-height: calc(100vh - var(--nav-height));
        min-height: calc(100svh - var(--nav-height));
        min-height: calc(100dvh - var(--nav-height));
      }
      .skip-link {
        position: absolute;
        top: 0;
        left: -9999px;
        background: #4f46e5;
        color: white;
        padding: 0.5rem 1rem;
        z-index: 100;
      }
      .skip-link:focus {
        left: 0;
      }
      @media (prefers-reduced-motion: reduce) {
        html {
          scroll-behavior: auto;
        }
        main,
        footer {
          transition: none;
        }
      }
      @keyframes gradientShift {
        0% {
          background-position: 0% 50%;
        }
        50% {
          background-position: 100% 50%;
        }
        100% {
          background-position: 0% 50%;
        }
      }
    </style>
  </head>
  <body class="bg-gray-50 text-gray-900 antialiased">
    <a href="#main-content" class="skip-link">Skip to main content</a>
    <header
      style="padding-top: var(--safe-top)"
      class="sticky top-0 z-50 bg-white shadow"
    >
      <div
        class="mx-auto flex max-w-7xl items-center justify-between px-6 py-4"
      >
        <a href="#" class="flex items-center gap-2">
          <img
            src="geofidelity-symbol.svg"
            alt="GeoFidelity logo"
            class="h-8 w-auto"
          />
          <img src="geofidelity-wordmark.svg" alt="GeoFidelity" class="h-8" />
        </a>
        <button
          id="menu-button"
          type="button"
          class="relative z-50 flex items-center justify-center rounded-md p-2 text-gray-600 focus:outline-none md:hidden"
          aria-controls="mobile-menu"
          aria-expanded="false"
        >
          <span class="sr-only">Open main menu</span>
          <svg
            id="icon-menu"
            class="h-6 w-6 transform transition duration-300 pointer-events-none"
            aria-hidden="true"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          >
            <path d="M4 6h16M4 12h16M4 18h16" />
          </svg>
          <svg
            id="icon-close"
            class="absolute inset-0 m-auto h-6 w-6 transform opacity-0 -rotate-90 transition duration-300 pointer-events-none"
            aria-hidden="true"
            fill="none"
            stroke="currentColor"
            stroke-width="3"
            stroke-linecap="round"
            stroke-linejoin="round"
          >
            <path d="M6 6l12 12M6 18L18 6" />
          </svg>
        </button>
        <nav class="hidden gap-8 text-sm md:flex" id="desktop-menu">
          <a href="#outcomes" class="text-gray-600 hover:text-gray-900"
            >Outcomes</a
          >
          <a href="#use-cases" class="text-gray-600 hover:text-gray-900"
            >Use Cases</a
          >
          <a href="#services" class="text-gray-600 hover:text-gray-900"
            >Services</a
          >
          <a href="#process" class="text-gray-600 hover:text-gray-900"
            >Process</a
          >
          <a href="#about" class="text-gray-600 hover:text-gray-900">About</a>
          <a href="#contact" class="text-gray-600 hover:text-gray-900"
            >Contact</a
          >
        </nav>
        <a
          href="#contact"
          class="hidden rounded-md bg-indigo-600 px-4 py-2 font-medium text-white hover:bg-indigo-500 md:block"
          >Request Demo</a
        >
      </div>
    </header>
    <div
      id="mobile-menu"
      style="padding-bottom: calc(1.5rem + var(--safe-bottom))"
      class="fixed inset-x-0 top-0 z-40 hidden transform rounded-b-lg bg-gray-100 p-6 shadow-lg opacity-0 -translate-y-full pointer-events-none transition duration-300 md:hidden overflow-y-auto"
      >
      <nav class="flex flex-col gap-4 text-lg text-left">
        <a href="#outcomes" class="w-full text-gray-600 hover:text-gray-900"
          >Outcomes</a
        >
        <a href="#use-cases" class="w-full text-gray-600 hover:text-gray-900"
          >Use Cases</a
        >
        <a href="#services" class="w-full text-gray-600 hover:text-gray-900"
          >Services</a
        >
        <a href="#process" class="w-full text-gray-600 hover:text-gray-900"
          >Process</a
        >
        <a href="#about" class="w-full text-gray-600 hover:text-gray-900"
          >About</a
        >
        <a href="#contact" class="w-full text-gray-600 hover:text-gray-900"
          >Contact</a
        >
        <a
          href="#contact"
          class="w-full rounded-md bg-indigo-600 px-4 py-2 font-medium text-white hover:bg-indigo-500"
          >Request Demo</a
        >
      </nav>
    </div>
    <div
      id="menu-overlay"
      class="fixed inset-0 z-30 hidden bg-black/20 opacity-0 transition-opacity duration-300 md:hidden"
    ></div>
    <main id="main-content">
      <section class="bg-white">
        <div
          class="mx-auto max-w-7xl px-6 py-24 md:grid md:grid-cols-2 md:items-center md:gap-12"
        >
          <div>
            <p
              class="text-sm font-semibold uppercase tracking-wide text-indigo-600"
            >
              Map accuracy &amp; verification
            </p>
            <h1
              class="mt-4 text-4xl font-extrabold tracking-tight text-gray-900 sm:text-5xl"
            >
              Help every visitor reach your site effortlessly.
            </h1>
            <p class="mt-6 text-lg text-gray-600">
              GeoFidelity identifies and corrects OpenStreetMap data so
              customers, drivers, and deliveries can reach you without detours.
            </p>
            <div class="mt-8 flex flex-col gap-4 sm:flex-row">
              <a
                href="/contact"
                class="rounded-md bg-indigo-600 px-6 py-3 text-center font-medium text-white hover:bg-indigo-500"
                >Request a Map Readiness Audit</a
              >
              <a
                href="#process"
                class="px-6 py-3 text-center font-medium text-indigo-600 hover:underline"
                >How it works</a
              >
            </div>
            <ul
              class="mt-8 grid gap-3 text-sm text-gray-700 sm:grid-cols-3 sm:gap-6"
            >
              <li
                class="flex items-start gap-2 justify-start sm:justify-center"
              >
                <svg
                  class="h-5 w-5 text-indigo-600 flex-shrink-0"
                  aria-hidden="true"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="3"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                >
                  <circle cx="12" cy="12" r="10" />
                  <path d="M9 12l2 2 4-4" />
                </svg>
                <span>OSM-compliant editing</span>
              </li>
              <li
                class="flex items-start gap-2 justify-start sm:justify-center"
              >
                <svg
                  class="h-5 w-5 text-indigo-600 flex-shrink-0"
                  aria-hidden="true"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="3"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                >
                  <circle cx="12" cy="12" r="10" />
                  <path d="M9 12l2 2 4-4" />
                </svg>
                <span>Open data, properly attributed</span>
              </li>
              <li
                class="flex items-start gap-2 justify-start sm:justify-center"
              >
                <svg
                  class="h-5 w-5 text-indigo-600 flex-shrink-0"
                  aria-hidden="true"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="3"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                >
                  <circle cx="12" cy="12" r="10" />
                  <path d="M9 12l2 2 4-4" />
                </svg>
                <span>Cross-platform visibility</span>
              </li>
            </ul>
          </div>
          <div class="mt-12 md:mt-0">
            <div id="hero-slider">
              <img src="map-before.png" alt="Before map" />
              <div id="hero-after-wrapper">
                <img src="map-after.png" alt="After map" />
              </div>
              <div id="hero-divider"></div>
            </div>
          </div>
        </div>
      </section>
      <section class="bg-gray-900 text-white">
        <div
          class="mx-auto flex max-w-7xl items-center justify-center px-6 py-4 text-sm"
        >
          <svg
            class="mr-2 h-5 w-5"
            aria-hidden="true"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          >
            <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z" />
            <path d="M9 12l2 2 4-4" />
          </svg>
          <span
            >Transparent, OSM-compliant editing with proper attribution and
            documented sources.</span
          >
        </div>
      </section>
      <section
        id="outcomes"
        aria-labelledby="outcomes-heading"
        class="bg-gray-50 py-24"
      >
        <div class="mx-auto max-w-7xl px-6">
          <h2
            id="outcomes-heading"
            class="text-center text-3xl font-bold text-gray-900"
          >
            Outcomes
          </h2>
          <div
            class="mt-12 grid grid-cols-1 gap-12 sm:grid-cols-2 lg:grid-cols-3"
          >
            <div>
              <svg
                class="h-8 w-8 text-indigo-600"
                aria-hidden="true"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              >
                <path d="M5 13l4 4L19 7" />
              </svg>
              <h3 class="mt-4 text-xl font-semibold text-gray-900">Findable</h3>
              <p class="mt-2 text-gray-600">
                Appear in the right place across OSM, Google and Apple.
              </p>
            </div>
            <div>
              <svg
                class="h-8 w-8 text-indigo-600"
                aria-hidden="true"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              >
                <path d="M5 13l4 4L19 7" />
              </svg>
              <h3 class="mt-4 text-xl font-semibold text-gray-900">
                Navigable
              </h3>
              <p class="mt-2 text-gray-600">
                Correct entrances and paths reduce frustration.
              </p>
            </div>
            <div>
              <svg
                class="h-8 w-8 text-indigo-600"
                aria-hidden="true"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              >
                <path d="M5 13l4 4L19 7" />
              </svg>
              <h3 class="mt-4 text-xl font-semibold text-gray-900">
                Trustworthy
              </h3>
              <p class="mt-2 text-gray-600">
                Visitors reach the right location first time.
              </p>
            </div>
          </div>
          <h3 class="sr-only">Before and After Map Impact</h3>
          <div class="mt-12 grid gap-8 md:grid-cols-2">
            <div class="flex flex-col rounded-lg bg-white p-6 shadow">
              <img
                src="map-before.png"
                alt="Before map"
                class="w-full rounded"
              />
              <h3 class="mt-4 text-xl font-semibold">Before</h3>
              <p class="mt-2 text-gray-600">
                Missing paths, mis-pinned entrances, stale POIs. Visitors and
                deliveries struggle.
              </p>
            </div>
            <div class="flex flex-col rounded-lg bg-white p-6 shadow">
              <img src="map-after.png" alt="After map" class="w-full rounded" />
              <h3 class="mt-4 text-xl font-semibold">After</h3>
              <p class="mt-2 text-gray-600">
                Correct trails, entrances, and amenities. Better routes, fewer
                mistakes, happier visitors.
              </p>
            </div>
          </div>
        </div>
      </section>
      <section id="customer-sections">
        <div id="customer-nav-container" class="mt-24 bg-white">
          <div class="mx-auto max-w-7xl px-6">
            <p class="mb-4 text-left text-lg font-semibold text-gray-700">
              We are a...
            </p>
          </div>
          <div
            id="customer-nav-wrapper"
            class="sticky top-[var(--nav-height)] z-30 w-full bg-white"
          >
            <div
              class="mx-auto max-w-7xl px-6 flex overflow-x-auto border-b border-gray-200 text-sm"
              role="tablist"
            >
              <button
                class="client-tab flex-shrink-0 max-w-[70%] border-b-2 border-indigo-600 px-4 py-2 text-indigo-600 font-semibold md:max-w-none md:flex-shrink"
                data-client="housing"
                role="tab"
                aria-selected="true"
              >
                Housing Developer
              </button>
              <button
                class="client-tab flex-shrink-0 max-w-[70%] border-b-2 border-transparent px-4 py-2 text-gray-600 hover:text-gray-900 font-normal md:max-w-none md:flex-shrink"
                data-client="tourism"
                role="tab"
                aria-selected="false"
              >
                Tourism Board
              </button>
              <button
                class="client-tab flex-shrink-0 max-w-[70%] border-b-2 border-transparent px-4 py-2 text-gray-600 hover:text-gray-900 font-normal md:max-w-none md:flex-shrink"
                data-client="park"
                role="tab"
                aria-selected="false"
              >
                National Park Authority
              </button>
              <button
                class="client-tab flex-shrink-0 max-w-[70%] border-b-2 border-transparent px-4 py-2 text-gray-600 hover:text-gray-900 font-normal md:max-w-none md:flex-shrink"
                data-client="logistics"
                role="tab"
                aria-selected="false"
              >
                Logistics Company
              </button>
              <button
                class="client-tab flex-shrink-0 max-w-[70%] border-b-2 border-transparent px-4 py-2 text-gray-600 hover:text-gray-900 font-normal md:max-w-none md:flex-shrink"
                data-client="retail"
                role="tab"
                aria-selected="false"
              >
                Retail Chain
              </button>
            </div>
          </div>

          <section
            id="use-cases"
            aria-labelledby="use-cases-heading"
            class="bg-white pt-12 pb-24"
          >
            <div class="mx-auto max-w-7xl px-6">
              <h2
                id="use-cases-heading"
                class="text-center text-3xl font-bold text-gray-900"
              >
                Use Cases
              </h2>

              <div class="mt-12 grid gap-8 md:grid-cols-2">
                <div>
                  <h3 class="text-xl font-semibold text-indigo-600">Before</h3>
                  <ul id="before-list" class="mt-4 space-y-3"></ul>
                </div>
                <div>
                  <h3 class="text-xl font-semibold text-indigo-600">After</h3>
                  <ul id="after-list" class="mt-4 space-y-3"></ul>
                </div>
              </div>
            </div>
          </section>
          <section
            id="services"
            aria-labelledby="services-heading"
            class="bg-gray-50 py-24"
          >
            <div class="mx-auto max-w-7xl px-6">
              <h2
                id="services-heading"
                class="text-center text-3xl font-bold text-gray-900"
              >
                Services
              </h2>
              <div class="mt-12 -mx-6 overflow-x-auto lg:mx-0">
                <div
                  id="tier-container"
                  class="flex space-x-6 px-6 snap-x snap-mandatory lg:grid lg:grid-cols-3 lg:gap-8 lg:space-x-0 lg:px-0"
                ></div>
              </div>
            </div>
          </section>
        </div>
      </section>
      <section
        id="process"
        aria-labelledby="process-heading"
        class="bg-white py-24"
      >
        <div class="mx-auto max-w-7xl px-6">
          <h2
            id="process-heading"
            class="text-center text-3xl font-bold text-gray-900"
          >
            Process
          </h2>
          <div class="relative mt-20">
            <div
              class="absolute left-4 top-0 h-full w-px bg-indigo-600 lg:left-1/2"
            ></div>
            <ol class="space-y-16">
              <li class="relative min-h-[40vh]">
                <div
                  class="sticky top-20 grid items-start grid-cols-[2rem_1fr] lg:grid-cols-[1fr_2rem_1fr]"
                >
                  <div class="flex justify-center lg:col-start-2">
                    <span
                      class="block h-4 w-4 rounded-full bg-indigo-600"
                    ></span>
                  </div>
                  <div class="col-start-2 lg:col-start-1 lg:pr-8 lg:text-right">
                    <div class="rounded-lg bg-white px-6 py-4">
                      <h3 class="text-xl font-semibold text-indigo-600">
                        Identify mapping gaps
                      </h3>
                      <p class="mt-2 text-gray-600">
                        Discover where major maps misdirect visitors.
                      </p>
                    </div>
                  </div>
                </div>
              </li>
              <li class="relative min-h-[40vh]">
                <div
                  class="sticky top-20 grid items-start grid-cols-[2rem_1fr] lg:grid-cols-[1fr_2rem_1fr]"
                >
                  <div class="flex justify-center lg:col-start-2">
                    <span
                      class="block h-4 w-4 rounded-full bg-indigo-600"
                    ></span>
                  </div>
                  <div class="col-start-2 lg:col-start-3 lg:pl-8">
                    <div class="rounded-lg bg-white px-6 py-4">
                      <h3 class="text-xl font-semibold text-indigo-600">
                        Improve map accuracy
                      </h3>
                      <p class="mt-2 text-gray-600">
                        Update OpenStreetMap so directions lead customers
                        straight to you.
                      </p>
                      <ul class="mt-4 list-disc pl-5 text-gray-600">
                        <li>Public data</li>
                        <li>Commercial data</li>
                      </ul>
                    </div>
                  </div>
                </div>
              </li>
              <li class="relative min-h-[40vh]">
                <div
                  class="sticky top-20 grid items-start grid-cols-[2rem_1fr] lg:grid-cols-[1fr_2rem_1fr]"
                >
                  <div class="flex justify-center lg:col-start-2">
                    <span
                      class="block h-4 w-4 rounded-full bg-indigo-600"
                    ></span>
                  </div>
                  <div class="col-start-2 lg:col-start-1 lg:pr-8 lg:text-right">
                    <div class="rounded-lg bg-white px-6 py-4">
                      <h3 class="text-xl font-semibold text-indigo-600">
                        Publish updates everywhere
                      </h3>
                      <p class="mt-2 text-gray-600">
                        Share corrections so Apple and Google show the right
                        location.
                      </p>
                    </div>
                  </div>
                </div>
              </li>
                <li class="relative min-h-[40vh]">
                  <div
                    class="sticky top-20 grid items-start grid-cols-[2rem_1fr] lg:grid-cols-[1fr_2rem_1fr]"
                  >
                    <div class="flex justify-center lg:col-start-2">
                      <span
                        class="block h-4 w-4 rounded-full bg-indigo-600"
                      ></span>
                    </div>
                    <div class="col-start-2 lg:col-start-3 lg:pl-8">
                      <div class="rounded-lg bg-white p-6">
                        <h3 class="text-xl font-semibold text-indigo-600">
                          Confirm customers can find you
                        </h3>
                        <p class="mt-2 text-gray-600">
                          Check updated maps to ensure visitors and deliveries
                          reach the right spot.
                        </p>
                      </div>
                    </div>
                  </div>
                </li>
                <li class="relative min-h-[40vh]">
                  <div
                    class="sticky top-20 grid items-start grid-cols-[2rem_1fr] lg:grid-cols-[1fr_2rem_1fr]"
                  >
                    <div class="flex justify-center lg:col-start-2">
                      <span
                        class="block h-4 w-4 rounded-full bg-indigo-600"
                      ></span>
                    </div>
                    <div class="col-start-2 lg:col-start-1 lg:pr-8 lg:text-right">
                      <div class="rounded-lg bg-white p-6">
                        <h3 class="text-xl font-semibold text-indigo-600">
                          Improved data reaches end users
                        </h3>
                        <p class="mt-2 text-gray-600">
                          Accurate maps power every platform.
                        </p>
                        <div class="mt-4 flex flex-col items-start gap-2 lg:items-end">
                          <div class="flex items-center gap-2">
                            <div class="h-px w-8 bg-indigo-600"></div>
                            <span class="text-gray-600"
                              >Consumer apps (Apple, Google)</span
                            >
                          </div>
                          <div class="flex items-center gap-2">
                            <div class="h-px w-8 bg-indigo-600"></div>
                            <span class="text-gray-600"
                              >Aggregators (Mapbox, etc.)</span
                            >
                          </div>
                          <div class="flex items-center gap-2">
                            <div class="h-px w-8 bg-indigo-600"></div>
                            <span class="text-gray-600"
                              >1st party uses (customer websites/tooling)</span
                            >
                          </div>
                        </div>
                      </div>
                  <div class="col-start-2 lg:col-start-3 lg:pl-8">
                    <div class="rounded-lg bg-white px-6 py-4">
                      <h3 class="text-xl font-semibold text-indigo-600">
                        Confirm customers can find you
                      </h3>
                      <p class="mt-2 text-gray-600">
                        Check updated maps to ensure visitors and deliveries
                        reach the right spot.
                      </p>
                    </div>
                  </div>
                </li>
              </ol>
              </div>
            </div>
          </section>
      <section
        id="about"
        aria-labelledby="about-heading"
        class="bg-gray-50 py-24"
      >
        <div class="mx-auto max-w-3xl px-6 text-center">
          <h2
            id="about-heading"
            class="text-center text-3xl font-bold text-gray-900"
          >
            About
          </h2>
          <p class="mt-6 text-lg text-gray-600">
            We help organisations ensure their site is mapped correctly so
            visitors, customers and deliveries can find them without hassle.
          </p>
        </div>
      </section>
      <section
        class="bg-indigo-600 py-24 text-white"
        aria-labelledby="primary-cta-heading"
      >
        <div class="mx-auto max-w-3xl px-6 text-center">
          <h2 id="primary-cta-heading" class="text-center text-3xl font-bold">
            Ready to help customers find you?
          </h2>
          <p class="mt-4 text-lg text-indigo-100">
            Get a Map Readiness Audit and a tailored plan so visitors never get
            lost.
          </p>
          <div
            class="mt-8 flex flex-col items-center justify-center gap-4 sm:flex-row"
          >
            <a
              href="/contact"
              class="rounded-md bg-white px-6 py-3 font-medium text-indigo-600 hover:bg-indigo-50"
              >Request an Audit</a
            >
            <a
              href="#sample-report"
              class="px-6 py-3 font-medium text-white hover:underline"
              >See a sample report</a
            >
          </div>
        </div>
      </section>
      <section
        id="contact"
        aria-labelledby="contact-heading"
        class="bg-gray-50 py-24"
      >
        <div class="mx-auto max-w-xl px-6">
          <h2
            id="contact-heading"
            class="text-center text-3xl font-bold text-gray-900"
          >
            Contact
          </h2>
          <div class="mt-8 rounded-lg bg-white p-6 shadow">
            <div id="contact-form">
              <p
                id="contact-steps"
                class="mb-4 text-center text-sm text-gray-500"
              >
                Step 1 of 5
              </p>
              <div class="space-y-4">
                <div class="contact-slide space-y-4" data-step="1">
                  <div>
                    <label for="q-name" class="sr-only">Name</label>
                    <input
                      id="q-name"
                      name="name"
                      type="text"
                      placeholder="Name"
                      autocomplete="name"
                      required
                      class="w-full rounded-md border border-gray-300 px-4 py-3 focus:border-indigo-500 focus:ring-indigo-500"
                    />
                  </div>
                  <div>
                    <label for="q-company" class="sr-only">Company</label>
                    <input
                      id="q-company"
                      name="company"
                      type="text"
                      placeholder="Company"
                      autocomplete="organization"
                      required
                      class="w-full rounded-md border border-gray-300 px-4 py-3 focus:border-indigo-500 focus:ring-indigo-500"
                    />
                  </div>
                </div>
                <div class="contact-slide hidden space-y-4" data-step="2">
                  <div class="relative">
                    <label for="q-role" class="sr-only"
                      >Company type or role</label
                    >
                    <select
                      id="q-role"
                      name="role"
                      class="block w-full appearance-none rounded-md border border-gray-300 bg-white px-4 py-3 pr-10 font-medium text-gray-900 focus:border-indigo-500 focus:ring-indigo-500"
                      required
                    >
                      <option value="">Select company type/role</option>
                      <option>Developer</option>
                      <option>Planner</option>
                      <option>Government</option>
                      <option>Logistics</option>
                      <option>Retail</option>
                      <option value="other">Other</option>
                    </select>
                    <div
                      class="pointer-events-none absolute inset-y-0 right-0 flex items-center pr-3"
                    >
                      <svg
                        class="h-5 w-5 text-gray-400"
                        fill="none"
                        stroke="currentColor"
                        stroke-width="2"
                        viewBox="0 0 24 24"
                        aria-hidden="true"
                      >
                        <path
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          d="M19 9l-7 7-7-7"
                        />
                      </svg>
                    </div>
                  </div>
                  <div id="q-role-other-wrapper" class="hidden">
                    <label for="q-role-other" class="sr-only">Other role</label>
                    <input
                      id="q-role-other"
                      type="text"
                      placeholder="Please specify"
                      class="w-full rounded-md border border-gray-300 px-4 py-3 focus:border-indigo-500 focus:ring-indigo-500"
                    />
                  </div>
                </div>
                <div class="contact-slide hidden space-y-4" data-step="3">
                  <div>
                    <label for="q-address" class="sr-only">Address</label>
                    <input
                      id="q-address"
                      name="address"
                      type="text"
                      placeholder="Address"
                      autocomplete="street-address"
                      inputmode="text"
                      required
                      class="w-full rounded-md border border-gray-300 px-4 py-3 focus:border-indigo-500 focus:ring-indigo-500"
                    />
                  </div>
                  <div>
                    <label for="q-location" class="sr-only"
                      >Location reference (optional)</label
                    >
                    <input
                      id="q-location"
                      name="location"
                      type="text"
                      placeholder="what3words, coordinates, or map link (optional)"
                      class="w-full rounded-md border border-gray-300 px-4 py-3 focus:border-indigo-500 focus:ring-indigo-500"
                    />
                    <p class="mt-1 text-xs text-gray-500">
                      Optional: provide a
                      <a
                        href="https://what3words.com"
                        target="_blank"
                        rel="noopener noreferrer"
                        class="underline"
                        >what3words</a
                      >
                      address, coordinates, or a map link from
                      <a
                        href="https://www.google.com/maps"
                        target="_blank"
                        rel="noopener noreferrer"
                        class="underline"
                        >Google Maps</a
                      >
                      or
                      <a
                        href="https://maps.apple.com"
                        target="_blank"
                        rel="noopener noreferrer"
                        class="underline"
                        >Apple Maps</a
                      >.
                    </p>
                  </div>
                </div>
                <div class="contact-slide hidden space-y-4" data-step="4">
                  <label
                    for="q-size-slider"
                    class="text-sm font-medium text-gray-700"
                    >Approximate site size</label
                  >
                  <input
                    id="q-size-slider"
                    type="range"
                    min="0"
                    max="100"
                    value="10"
                    class="w-full"
                  />
                  <div class="flex items-center gap-2">
                    <input
                      id="q-size-input"
                      type="number"
                      min="0"
                      value="10"
                      class="w-full rounded-md border border-gray-300 px-4 py-2 focus:border-indigo-500 focus:ring-indigo-500"
                    />
                    <div class="relative w-24">
                      <select
                        id="q-size-unit"
                        class="block w-full appearance-none rounded-md border border-gray-300 bg-white px-2 py-2 pr-8 font-medium text-gray-900 focus:border-indigo-500 focus:ring-indigo-500"
                      >
                        <option value="km²">km²</option>
                        <option value="mi²">mi²</option>
                      </select>
                      <div
                        class="pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2"
                      >
                        <svg
                          class="h-5 w-5 text-gray-400"
                          fill="none"
                          stroke="currentColor"
                          stroke-width="2"
                          viewBox="0 0 24 24"
                          aria-hidden="true"
                        >
                          <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            d="M19 9l-7 7-7-7"
                          />
                        </svg>
                      </div>
                    </div>
                  </div>
                  <p id="q-size-helper" class="hidden text-xs text-gray-500">
                    You can type a larger number if needed.
                  </p>
                </div>
                <div class="contact-slide hidden space-y-4" data-step="5">
                  <p class="text-gray-700">Please confirm your details:</p>
                  <ul id="q-summary" class="space-y-1 text-gray-900"></ul>
                  <p class="text-sm text-gray-500">
                    Your email client will open allowing you to add more
                    details.
                  </p>
                </div>
              </div>
              <div class="mt-6 flex justify-between">
                <button
                  id="contact-back"
                  type="button"
                  class="rounded-md bg-gray-200 px-4 py-2 text-gray-700 disabled:opacity-50"
                  disabled
                >
                  Back
                </button>
                <button
                  id="contact-next"
                  type="button"
                  class="rounded-md bg-indigo-600 px-6 py-3 font-medium text-white disabled:opacity-50"
                  disabled
                >
                  Next
                </button>
              </div>
            </div>
            <div id="contact-success" class="hidden text-center">
              <p class="text-lg font-medium text-gray-900">
                Your email client should now be open with a pre-filled message.
                Please continue there to send your message.
              </p>
              <button
                id="contact-reset"
                type="button"
                class="mt-4 rounded-md bg-indigo-600 px-6 py-3 font-medium text-white hover:bg-indigo-500"
              >
                Send another message
              </button>
            </div>
          </div>
        </div>
      </section>
    </main>
    <footer class="bg-gray-900 py-12 text-sm text-gray-400">
      <div class="mx-auto max-w-7xl px-6 text-center flex flex-col items-center gap-4 md:flex-row md:justify-between md:text-left">
        <p>&copy; <span id="year"></span> GeoFidelity. All rights reserved.</p>
        <a
          href="https://www.liamday.co.uk"
          target="_blank"
          rel="noopener"
          style="position:relative;display:inline-flex;align-items:center;justify-content:center;padding:0.25rem 0.75rem;border-radius:9999px;font-weight:500;font-size:0.75rem;line-height:1;background-color:#000;color:transparent;"
        >
          <span style="position:absolute;inset:0;border-radius:inherit;padding:1px;background:linear-gradient(90deg,#8b5cf6,#3b82f6,#8b5cf6);background-size:200% 200%;animation:gradientShift 8s ease infinite;-webkit-mask:linear-gradient(#000 0 0) content-box,linear-gradient(#000 0 0);-webkit-mask-composite:xor;mask-composite:exclude;pointer-events:none;"></span>
          <span style="background:linear-gradient(90deg,#8b5cf6,#3b82f6,#8b5cf6);background-size:200% 200%;animation:gradientShift 8s ease infinite;-webkit-background-clip:text;background-clip:text;color:transparent;">Built by www.liamday.co.uk</span>
        </a>
      </div>
    </footer>
    <script>
      const motionOK = window.matchMedia(
        "(prefers-reduced-motion: no-preference)",
      ).matches;
      document.getElementById("year").textContent = new Date().getFullYear();
      (function () {
        const slider = document.getElementById("hero-slider");
        if (!slider) return;
        const afterWrapper = document.getElementById("hero-after-wrapper");
        const divider = document.getElementById("hero-divider");
        const BOUNCE_MIN = 0.4;
        const BOUNCE_MAX = 0.6;
        const state = { p: BOUNCE_MIN };
        const MIN = 0.1;
        const MAX = 0.9;
        function clamp(p) {
          return Math.min(Math.max(p, MIN), MAX);
        }
        function applyPos() {
          const pct = state.p * 100;
          afterWrapper.style.clipPath = `polygon(${pct}% 0,100% 0,100% 100%,${pct}% 100%)`;
          divider.style.left = `${pct}%`;
        }
        function setPos(p) {
          state.p = clamp(p);
          applyPos();
        }
        let moveTween;
        function animateTo(p) {
          if (!motionOK) {
            setPos(p);
            return;
          }
          if (moveTween) moveTween.kill();
          moveTween = gsap.to(state, {
            p: clamp(p),
            duration: 0.3,
            ease: "power1.out",
            onUpdate: applyPos,
          });
        }
        let bounce;
        function startBounce() {
          if (!motionOK) return;
          stopBounce();
          state.p = BOUNCE_MIN;
          applyPos();
          bounce = gsap.to(state, {
            p: BOUNCE_MAX,
            duration: 3,
            repeat: -1,
            yoyo: true,
            ease: "power1.inOut",
            onUpdate: applyPos,
          });
        }
        function stopBounce() {
          if (bounce) bounce.kill();
        }
        let restartTimeout;
        function queueBounceRestart() {
          if (!motionOK) return;
          clearTimeout(restartTimeout);
          restartTimeout = setTimeout(() => {
            gsap.to(state, {
              p: BOUNCE_MIN,
              duration: 0.5,
              ease: "power1.inOut",
              onUpdate: applyPos,
              onComplete: startBounce,
            });
          }, 2000);
        }
        setPos(motionOK ? state.p : 0.5);
        if (motionOK) startBounce();
        let dragging = false;
        function update(e, immediate = false) {
          const rect = slider.getBoundingClientRect();
          const pos = (e.clientX - rect.left) / rect.width;
          if (immediate || !motionOK) {
            setPos(pos);
          } else {
            animateTo(pos);
          }
          queueBounceRestart();
        }
        slider.addEventListener("pointerenter", (e) => {
          stopBounce();
          update(e);
        });
        slider.addEventListener("pointermove", (e) => {
          if (dragging) {
            update(e, true);
          } else if (e.buttons === 0) {
            stopBounce();
            update(e);
          }
        });
        slider.addEventListener("pointerdown", (e) => {
          dragging = true;
          slider.setPointerCapture(e.pointerId);
          stopBounce();
          update(e);
        });
        function release() {
          dragging = false;
          queueBounceRestart();
        }
        slider.addEventListener("pointerup", release);
        slider.addEventListener("pointercancel", release);
      })();
      const menuButton = document.getElementById("menu-button");
      const mobileMenu = document.getElementById("mobile-menu");
      const openIcon = document.getElementById("icon-menu");
      const closeIcon = document.getElementById("icon-close");
      const menuLinks = mobileMenu.querySelectorAll("a");
      const overlay = document.getElementById("menu-overlay");
      const header = document.querySelector("header");

      function openMenu() {
        const topOffset = header.offsetHeight;
        const vh = CSS.supports("height: 100dvh") ? "dvh" : "vh";
        mobileMenu.style.top = `${topOffset}px`;
        mobileMenu.style.maxHeight = `calc(100${vh} - ${topOffset}px)`;
        mobileMenu.classList.remove("hidden", "pointer-events-none");
        overlay.classList.remove("hidden");
        requestAnimationFrame(() => {
          mobileMenu.classList.add("translate-y-0", "opacity-100");
          mobileMenu.classList.remove("-translate-y-full", "opacity-0");
          overlay.classList.add("opacity-100");
        });
        document.documentElement.classList.add("menu-open");
        document.body.classList.add("menu-open");
        openIcon.classList.add("opacity-0", "rotate-90");
        closeIcon.classList.remove("opacity-0", "-rotate-90");
        menuButton.classList.add("bg-indigo-600", "text-white", "rounded-full");
        menuButton.classList.remove("text-gray-600");
      }

      function closeMenu() {
        mobileMenu.classList.add("-translate-y-full", "opacity-0");
        mobileMenu.classList.remove("translate-y-0", "opacity-100");
        overlay.classList.remove("opacity-100");
        overlay.classList.add("opacity-0");
        document.documentElement.classList.remove("menu-open");
        document.body.classList.remove("menu-open");
        openIcon.classList.remove("opacity-0", "rotate-90");
        closeIcon.classList.add("opacity-0", "-rotate-90");
        menuButton.classList.remove(
          "bg-indigo-600",
          "text-white",
          "rounded-full",
        );
        menuButton.classList.add("text-gray-600");
        overlay.addEventListener(
          "transitionend",
          (e) => {
            if (e.target === overlay) {
              overlay.classList.add("hidden");
            }
          },
          { once: true },
        );
        mobileMenu.addEventListener(
          "transitionend",
          (e) => {
            if (e.target === mobileMenu) {
              mobileMenu.classList.add("hidden", "pointer-events-none");
              mobileMenu.style.top = "";
              mobileMenu.style.maxHeight = "";
            }
          },
          { once: true },
        );
      }

      menuButton.addEventListener("click", () => {
        const expanded = menuButton.getAttribute("aria-expanded") === "true";
        if (expanded) {
          closeMenu();
        } else {
          openMenu();
        }
        menuButton.setAttribute("aria-expanded", String(!expanded));
      });

      menuLinks.forEach((link) => {
        link.addEventListener("click", () => {
          menuButton.setAttribute("aria-expanded", "false");
          closeMenu();
        });
      });

      overlay.addEventListener("click", () => {
        menuButton.setAttribute("aria-expanded", "false");
        closeMenu();
      });

      let headerHeight;
      function updateScrollPadding() {
        headerHeight = header.offsetHeight;
        document.documentElement.style.scrollPaddingTop = `${headerHeight}px`;
        document.documentElement.style.setProperty(
          "--nav-height",
          `${headerHeight}px`,
        );
      }
      window.addEventListener("load", updateScrollPadding);
      window.addEventListener("resize", () => {
        updateScrollPadding();
        onScroll();
      });
      updateScrollPadding();

      const sectionEls = Array.from(document.querySelectorAll("section[id]"));
      const linkMap = {};
      document
        .querySelectorAll("#desktop-menu a, #mobile-menu a")
        .forEach((link) => {
          const id = link.getAttribute("href").slice(1);
          (linkMap[id] ||= []).push(link);
        });
      const activeClasses = ["text-gray-900", "font-semibold"];
      const inactiveClasses = ["text-gray-600"];
      function setActive(id) {
        Object.values(linkMap).forEach((links) =>
          links.forEach((l) => {
            l.classList.remove(...activeClasses);
            l.classList.add(...inactiveClasses);
          }),
        );
        if (id && linkMap[id]) {
          linkMap[id].forEach((l) => {
            l.classList.remove(...inactiveClasses);
            l.classList.add(...activeClasses);
          });
        }
      }
      function onScroll() {
        const scrollPos = window.scrollY + headerHeight + 1;
        let currentId = null;
        for (const section of sectionEls) {
          if (scrollPos >= section.offsetTop) {
            currentId = section.id;
          } else {
            break;
          }
        }
        setActive(currentId);
      }
      window.addEventListener("scroll", onScroll);
      window.addEventListener("load", onScroll);

      if (motionOK) {
        gsap.registerPlugin(ScrollTrigger);
        gsap.utils.toArray("section:not(:first-of-type)").forEach((section) => {
          const content = section.querySelector(":scope > *");
          if (content) {
            gsap.fromTo(
              content,
              { opacity: 0 },
              {
                opacity: 1,
                scrollTrigger: {
                  trigger: section,
                  start: "top 90%",
                  end: "top 50%",
                  scrub: true,
                },
              },
            );
          }
        });
      }

      const scenarios = {
        housing: {
          before: [
            {
              text: "Navigation apps lead visitors to wrong entrances.",
              positive: false,
            },
            {
              text: "Delivery drivers struggle to find addresses.",
              positive: false,
            },
            {
              text: "Emergency response times increase due to map errors.",
              positive: false,
            },
          ],
          after: [
            {
              text: "Correct entrance data ensures seamless arrivals.",
              positive: true,
            },
            {
              text: "Accurate addresses reduce delivery delays.",
              positive: true,
            },
            {
              text: "Emergency services reach locations quickly.",
              positive: true,
            },
          ],
        },
        tourism: {
          before: [
            {
              text: "Trails are missing or misaligned on maps.",
              positive: false,
            },
            {
              text: "Guests can\u2019t find parking or amenities.",
              positive: false,
            },
            {
              text: "Visitors get lost due to outdated info.",
              positive: false,
            },
          ],
          after: [
            { text: "Mapped trails guide hikers effectively.", positive: true },
            { text: "Facilities and parking clearly marked.", positive: true },
            {
              text: "Up-to-date info improves visitor experience.",
              positive: true,
            },
          ],
        },
        park: {
          before: [
            {
              text: "Boundary lines are inaccurate causing confusion.",
              positive: false,
            },
            {
              text: "Points of interest are misplaced or missing.",
              positive: false,
            },
            { text: "Offline maps fail in remote areas.", positive: false },
          ],
          after: [
            {
              text: "Precise boundaries protect sensitive areas.",
              positive: true,
            },
            {
              text: "Landmarks and trails accurately represented.",
              positive: true,
            },
            {
              text: "Offline-ready data supports remote access.",
              positive: true,
            },
          ],
        },
        logistics: {
          before: [
            {
              text: "Dispatchers rely on inaccurate warehouse coordinates.",
              positive: false,
            },
            {
              text: "Drivers struggle to find correct loading docks.",
              positive: false,
            },
            {
              text: "Routing apps ignore vehicle restrictions.",
              positive: false,
            },
          ],
          after: [
            {
              text: "Precise warehouse locations improve navigation.",
              positive: true,
            },
            {
              text: "Mapped loading zones streamline deliveries.",
              positive: true,
            },
            {
              text: "Updated data reflects height and weight limits.",
              positive: true,
            },
          ],
        },
        retail: {
          before: [
            {
              text: "Stores missing in navigation apps.",
              positive: false,
            },
            {
              text: "Customers are directed to back entrances.",
              positive: false,
            },
            {
              text: "Opening hours inconsistent across platforms.",
              positive: false,
            },
          ],
          after: [
            {
              text: "All branches appear correctly in maps.",
              positive: true,
            },
            {
              text: "Front entrances prioritized for directions.",
              positive: true,
            },
            {
              text: "Consistent hours improve customer trust.",
              positive: true,
            },
          ],
        },
      };

      const serviceTiers = [
        {
          title: "Open Source Compilation",
          what: "We identify, clean, and compile the best available open data sources (OpenStreetMap, Wikidata, local authority releases, etc.), then upload updates on your behalf.",
          who: {
            housing:
              "Housing Developer: Add new estate roads, footpaths, and amenities so buyers see their homes appear in digital maps from day one.",
            tourism:
              "Tourism Board: Standardise points of interest (heritage sites, attractions, hospitality) so visitors find you consistently in every mapping app.",
            park: "National Park Authority: Ensure trails, car parks, visitor centres, and waymarked routes are visible and accurate across Google, Apple, and OSM-derived apps.",
            logistics:
              "Logistics Company: Consolidate depot and drop-off locations so drivers get accurate turn-by-turn guidance.",
            retail:
              "Retail Chain: Ensure every storefront and pickup point is present and labeled correctly across mapping services.",
          },
          deliverables: [
            "Aggregated and cleaned dataset",
            "Verified OSM updates and third-party submissions",
            "Annual audit of key coverage",
          ],
        },
        {
          title: "Expert Validation & Enrichment",
          what: "Our specialists cross-check data against authoritative sources, enrich it with metadata (accessibility, opening hours, facilities), and liaise with platform maintainers to accelerate adoption.",
          who: {
            housing:
              "Housing Developer: Highlight amenities (playgrounds, bus stops, green spaces) and ensure address ranges are properly indexed.",
            tourism:
              "Tourism Board: Add booking links, photos, and tags to improve discoverability in travel platforms.",
            park: "National Park Authority: Ensure accessibility data (wheelchair routes, gradients, toilets) is consistently visible across major apps.",
            logistics:
              "Logistics Company: Add vehicle access notes and delivery time windows to reduce failed attempts.",
            retail:
              "Retail Chain: Enrich listings with opening hours and accessibility info to boost visibility.",
          },
          deliverables: [
            "Fully validated dataset with rich metadata",
            "Quarterly updates and corrections",
            "Direct engagement with third-party platforms (Apple, Google, Mapbox, etc.)",
          ],
        },
        {
          title: "First-Party Capture & Ground Truth",
          what: "We deploy field teams or equip your staff with mobile survey tools to capture first-party data—GPS-verified routes, accessibility audits, signage inventories, and high-accuracy photos.",
          who: {
            housing:
              "Housing Developer: On-site mapping of new developments, capturing address ranges, site access, and construction phasing to keep maps current as homes are handed over.",
            tourism:
              "Tourism Board: Capture verified imagery, footfall counts, and street-level navigation details to stand out on digital platforms.",
            park: "National Park Authority: Survey trails, signage, and safety infrastructure to ensure accuracy in both maps and emergency-services databases.",
            logistics:
              "Logistics Company: Capture precise loading bay positions and gate codes for smoother operations.",
            retail:
              "Retail Chain: Survey car parks, entrances, and in-store facilities to keep maps accurate as sites evolve.",
          },
          deliverables: [
            "Verified first-party dataset with GPS traces and images",
            "Monthly/real-time updates through our platform",
            "Priority integrations with partner mapping services",
          ],
        },
      ];

      const beforeList = document.getElementById("before-list");
      const afterList = document.getElementById("after-list");
      const tabs = document.querySelectorAll(".client-tab");
      const tierContainer = document.getElementById("tier-container");

      const icons = {
        positive:
          '<svg class="h-5 w-5 text-green-600" aria-hidden="true" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M5 13l4 4L19 7"/></svg>',
        negative:
          '<svg class="h-5 w-5 text-red-600" aria-hidden="true" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M6 6l12 12M6 18L18 6"/></svg>',
      };

      function renderLists(type) {
        const data = scenarios[type];
        const oldItems = [...beforeList.children, ...afterList.children];
        const populate = () => {
          beforeList.innerHTML = "";
          afterList.innerHTML = "";
          data.before.forEach((item) => {
            const li = document.createElement("li");
            li.className = "flex items-start gap-2";
            li.innerHTML = `${icons[item.positive ? "positive" : "negative"]}<span>${item.text}</span>`;
            beforeList.appendChild(li);
          });
          data.after.forEach((item) => {
            const li = document.createElement("li");
            li.className = "flex items-start gap-2";
            li.innerHTML = `${icons[item.positive ? "positive" : "negative"]}<span>${item.text}</span>`;
            afterList.appendChild(li);
          });
          const newItems = [...beforeList.children, ...afterList.children];
          if (motionOK) {
            gsap.fromTo(
              newItems,
              { opacity: 0, y: -10 },
              { opacity: 1, y: 0, duration: 0.2, stagger: 0.05 },
            );
          }
        };
        if (oldItems.length && motionOK) {
          gsap.to(oldItems, {
            opacity: 0,
            y: -10,
            duration: 0.2,
            onComplete: populate,
          });
        } else {
          populate();
        }
      }

      function renderServices(type) {
        const oldCards = [...tierContainer.children];

        const populate = () => {
          tierContainer.innerHTML = "";
          serviceTiers.forEach((tier) => {
            const card = document.createElement("div");
            card.className =
              "snap-start w-[80%] flex-none rounded-lg bg-white p-6 shadow lg:w-auto";
            card.innerHTML = `
                <h3 class="text-xl font-semibold text-gray-900">${tier.title}</h3>
                <p class="mt-2 text-gray-600">${tier.what}</p>
                <div class="mt-4">
                  <h4 class="font-semibold">Who it's for</h4>
                  <ul class="mt-1 list-disc pl-5 text-gray-600">
                    <li>${tier.who[type]}</li>
                  </ul>
                </div>
                <div class="mt-4">
                  <h4 class="font-semibold">Deliverables</h4>
                  <ul class="mt-1 list-disc pl-5 text-gray-600">
                    ${tier.deliverables.map((d) => `<li>${d}</li>`).join("")}
                  </ul>
                </div>
              `;
            tierContainer.appendChild(card);
          });
          const newCards = [...tierContainer.children];
          if (motionOK) {
            gsap.fromTo(
              newCards,
              { opacity: 0, y: 10 },
              { opacity: 1, y: 0, duration: 0.2, stagger: 0.05 },
            );
          }
        };

        if (oldCards.length && motionOK) {
          gsap.to(oldCards, {
            opacity: 0,
            y: 10,
            duration: 0.2,
            onComplete: populate,
          });
        } else {
          populate();
        }
      }

      tabs.forEach((tab) => {
        tab.addEventListener("click", () => {
          if (tab.getAttribute("aria-selected") === "true") return;
          tabs.forEach((t) => {
            t.classList.remove(
              "border-indigo-600",
              "text-indigo-600",
              "font-semibold",
              "hover:text-gray-900",
            );
            t.classList.add(
              "border-transparent",
              "text-gray-600",
              "font-normal",
              "hover:text-gray-900",
            );
            t.setAttribute("aria-selected", "false");
          });
          tab.classList.remove(
            "border-transparent",
            "text-gray-600",
            "font-normal",
            "hover:text-gray-900",
          );
          tab.classList.add(
            "border-indigo-600",
            "text-indigo-600",
            "font-semibold",
          );
          tab.setAttribute("aria-selected", "true");
          renderLists(tab.dataset.client);
          renderServices(tab.dataset.client);
        });
      });

      renderLists("housing");
      renderServices("housing");

      const contactForm = document.getElementById("contact-form");
      const contactSlides = document.querySelectorAll(".contact-slide");
      const nextButton = document.getElementById("contact-next");
      const backButton = document.getElementById("contact-back");
      const stepsText = document.getElementById("contact-steps");
      const successMessage = document.getElementById("contact-success");
      const resetButton = document.getElementById("contact-reset");

      const qName = document.getElementById("q-name");
      const qCompany = document.getElementById("q-company");
      const qRole = document.getElementById("q-role");
      const qRoleOtherWrapper = document.getElementById("q-role-other-wrapper");
      const qRoleOther = document.getElementById("q-role-other");
      const qAddress = document.getElementById("q-address");
      const qLocation = document.getElementById("q-location");
      const qSizeSlider = document.getElementById("q-size-slider");
      const qSizeInput = document.getElementById("q-size-input");
      const qSizeUnit = document.getElementById("q-size-unit");
      const qSizeHelper = document.getElementById("q-size-helper");
      const qSummary = document.getElementById("q-summary");

      let currentStep = 0;

      function updateStepIndicator() {
        stepsText.textContent = `Step ${currentStep + 1} of ${contactSlides.length}`;
      }

      function showStep(index) {
        contactSlides.forEach((slide, i) => {
          slide.classList.toggle("hidden", i !== index);
        });
        currentStep = index;
        updateStepIndicator();
        backButton.disabled = currentStep === 0;
        if (currentStep === contactSlides.length - 1) {
          nextButton.textContent = "Send Email";
          nextButton.disabled = false;
          renderSummary();
        } else {
          nextButton.textContent = "Next";
          validateStep();
        }
      }

      function validateStep() {
        let valid = false;
        switch (currentStep) {
          case 0:
            valid = qName.value.trim() !== "" && qCompany.value.trim() !== "";
            break;
          case 1:
            if (qRole.value === "other") {
              valid = qRoleOther.value.trim() !== "";
            } else {
              valid = qRole.value !== "";
            }
            break;
          case 2:
            valid = qAddress.value.trim() !== "";
            break;
          case 3:
            valid =
              qSizeInput.value.trim() !== "" &&
              parseFloat(qSizeInput.value) > 0;
            break;
          default:
            valid = true;
        }
        nextButton.disabled = !valid;
      }

      function renderSummary() {
        const role = qRole.value === "other" ? qRoleOther.value : qRole.value;
        qSummary.innerHTML = "";
        const lines = [
          `Name: ${qName.value}`,
          `Company: ${qCompany.value}`,
          `Role: ${role}`,
          `Address: ${qAddress.value}`,
        ];
        if (qLocation.value.trim() !== "") {
          lines.push(`Location reference: ${qLocation.value}`);
        }
        lines.push(`Site size: ${qSizeInput.value} ${qSizeUnit.value}`);
        lines.forEach((text) => {
          const li = document.createElement("li");
          li.textContent = text;
          qSummary.appendChild(li);
        });
      }

      function sendEmail() {
        const role = qRole.value === "other" ? qRoleOther.value : qRole.value;
        const locationLine =
          qLocation.value.trim() !== ""
            ? `\nLocation reference: ${qLocation.value}`
            : "";
        const body = `Name: ${qName.value}\nCompany: ${qCompany.value}\nRole: ${role}\nAddress: ${qAddress.value}${locationLine}\nSite size: ${qSizeInput.value} ${qSizeUnit.value}\n\nMessage:\n`;
        const mailto = `mailto:enquiries@geofidelity.com?subject=${encodeURIComponent("Contact Form Submission")}&body=${encodeURIComponent(body)}`;
        window.location.href = mailto;
        contactForm.classList.add("hidden");
        successMessage.classList.remove("hidden");
      }

      if (contactForm) {
        showStep(0);

        nextButton.addEventListener("click", () => {
          if (currentStep === contactSlides.length - 1) {
            sendEmail();
          } else {
            showStep(currentStep + 1);
          }
        });

        backButton.addEventListener("click", () => {
          if (currentStep > 0) {
            showStep(currentStep - 1);
          }
        });

        [qName, qCompany, qAddress, qRoleOther, qLocation].forEach((el) => {
          el.addEventListener("input", validateStep);
        });

        qRole.addEventListener("change", () => {
          if (qRole.value === "other") {
            qRoleOtherWrapper.classList.remove("hidden");
          } else {
            qRoleOtherWrapper.classList.add("hidden");
            qRoleOther.value = "";
          }
          validateStep();
        });

        function toggleSizeHelper() {
          if (parseFloat(qSizeSlider.value) >= parseFloat(qSizeSlider.max)) {
            qSizeHelper.classList.remove("hidden");
          } else {
            qSizeHelper.classList.add("hidden");
          }
        }

        qSizeSlider.addEventListener("input", () => {
          qSizeInput.value = qSizeSlider.value;
          toggleSizeHelper();
          validateStep();
        });

        qSizeInput.addEventListener("input", () => {
          qSizeSlider.value = Math.min(qSizeInput.value, qSizeSlider.max);
          toggleSizeHelper();
          validateStep();
        });

        qSizeUnit.addEventListener("change", validateStep);

        resetButton.addEventListener("click", () => {
          successMessage.classList.add("hidden");
          contactForm.classList.remove("hidden");
          [
            qName,
            qCompany,
            qRole,
            qRoleOther,
            qAddress,
            qLocation,
            qSizeInput,
          ].forEach((el) => (el.value = ""));
          qSizeSlider.value = 10;
          qSizeInput.value = 10;
          qSizeUnit.value = "km²";
          qSizeHelper.classList.add("hidden");
          qRoleOtherWrapper.classList.add("hidden");
          showStep(0);
        });
      }
    </script>
  </body>
</html>
